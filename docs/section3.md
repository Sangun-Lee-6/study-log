# μ„Ήμ… 3. μ¤ν”„λ§ ν•µμ‹¬ μ›λ¦¬ μ΄ν•΄ - μμ  λ§λ“¤κΈ°

# 1. ν”„λ΅μ νΈ μƒμ„±

β… λ¬΄μ—‡μ„ κµ¬ν„ν–λ”κ°€?

- Gradle(Groovy) κΈ°λ°μ μ¤ν”„λ§ λ¶€νΈ ν”„λ΅μ νΈ μƒμ„±([start.spring.io](http://start.spring.io))
- μμ΅΄κ΄€κ³„ μ—†μ΄ μƒμ„±

β… μ™ μ΄λ ‡κ² μ„¤κ³„ν–λ”κ°€?

- μ¤ν”„λ§ λ¶€νΈλ” ν”„λ΅μ νΈ μ„Έν…μ„ κ°„μ†ν™”ν•΄μ£Όλ©°, μ΄ν›„μ ν™κ²½ κµ¬μ„±κ³Ό μ‹¤ν–‰μ„ μ‰½κ² ν•΄μ£ΌκΈ° λ•λ¬Έ
- μ°μ„  javaλ΅λ§ μμ λ¥Ό λ§λ“¤κ³  β†’ μ¶”ν›„μ— μ¤ν”„λ§μ„ μ‚¬μ©ν•΄ κ³ λ„ν™”ν•  μμ •

# 2. λΉ„μ¦λ‹μ¤ μ”κµ¬μ‚¬ν•­κ³Ό μ„¤κ³„

### π“ 1. νμ›(Member) κΈ°λ¥

β… ν•µμ‹¬ μ”κµ¬μ‚¬ν•­

- μ‚¬μ©μλ” νμ›μ„ κ°€μ…ν•κ³ , κ°€μ…ν• νμ›μ„ μ΅°νν•  μ μμ–΄μ•Ό ν•¨
- νμ›μ€ λ‘ κ°€μ§€ λ“±κΈ‰ μ¤‘ ν•λ‚λ΅ λ¶„λ¥λ¨
    - μΌλ° νμ›
    - VIP νμ›

β… λ°μ΄ν„° μ €μ¥ λ°©μ‹

- νμ› μ •λ³΄λ¥Ό μ €μ¥ν•  μ μλ” μμ²΄ DB κµ¬μ¶• κ°€λ¥
- λλ” μ™Έλ¶€ μ‹μ¤ν…κ³Ό μ—°λ™ν•μ—¬ κ΄€λ¦¬ν•  μλ„ μμ (λ―Έν™•μ • μ‚¬ν•­)

### π“ 2. μ£Όλ¬Έ(Order) λ° ν• μΈ μ •μ±…(DiscountPolicy)

β… μ£Όλ¬Έ κΈ°λ¥

- νμ›μ€ μƒν’μ„ μ£Όλ¬Έν•  μ μμ

β… ν• μΈ μ •μ±…

- νμ› λ“±κΈ‰μ— λ”°λΌ ν• μΈ μ •μ±…μ΄ λ‹¤λ¥΄κ² μ μ©λμ–΄μ•Ό ν•¨
- μ΄κΈ°μ— μ μ©ν•  κΈ°λ³Έ μ •μ±…:
    - VIP νμ›μ€ 1,000μ› κ³ μ • ν• μΈ
    - μΌλ° νμ›μ€ ν• μΈ μ—†μ

β… ν• μΈ μ •μ±…μ μ μ—°μ„±

- ν• μΈ μ •μ±…μ€ λ³€κ²½ κ°€λ¥μ„±μ΄ λ§¤μ° λ†’μ
    - νμ‚¬μ μµμΆ… ν• μΈ μ •μ±…μ€ μ•„μ§ μ •ν•΄μ§€μ§€ μ•μ
    - μ¤ν” μ§μ „κΉμ§€ ν™•μ •λμ§€ μ•μ„ μ μμ
    - μµμ•…μ κ²½μ°, ν• μΈ μμ²΄λ¥Ό μ μ©ν•μ§€ μ•μ„ μλ„ μμ

### π“Β μ •λ¦¬

β… λ¬΄μ—‡μ„ κµ¬ν„ν–λ”κ°€?

- νμ› κ΄€λ¦¬μ™€ μ£Όλ¬Έ μ‹μ¤ν…μ— λ€ν• λ„λ©”μΈ μ”κµ¬μ‚¬ν•­ λ„μ¶
- λ“±κΈ‰μ— λ”°λ¥Έ ν• μΈ μ •μ±… μ •μ

β… μ™ μ΄λ ‡κ² μ„¤κ³„ν–λ”κ°€?

- ν• μΈ μ •μ±…κ³Ό μ €μ¥μ† κµ¬ν„ λ°©μ‹μ΄ μ•„μ§ `λ―Έν™•μ •`μ΄κΈ° λ•λ¬Έμ— β‡’ `μΈν„°νμ΄μ¤` κΈ°λ°μΌλ΅ μ μ—°ν•κ² μ„¤κ³„

# 3. νμ› λ„λ©”μΈ μ„¤κ³„

### π“Β μ •λ¦¬

![image.png](./img/image1.png)

# 4. νμ› λ„λ©”μΈ κ°λ°

### π“Β μ •λ¦¬

β… λ¬΄μ—‡μ„ κµ¬ν„ν–λ”κ°€?

- ν΄λμ¤ : `Member`, `Grade`(enum) `MemoryMemberRepository`(κµ¬ν„μ²΄)
- μΈν„°νμ΄μ¤ : `MemberRepository`, `MemberService`

β… μ™ μ΄λ ‡κ² μ„¤κ³„ν–λ”κ°€?

- DBλ” λ‚μ¤‘μ— λ³€κ²½ κ°€λ¥ν•¨ β†’ β΄ `MemberRepository` μΈν„°νμ΄μ¤ λ„μ…
- `MemberService` : μ„λΉ„μ¤ κ³„μΈµμ€ μ μ§€λ³΄μλ¥Ό μ„ν•΄ μΈν„°νμ΄μ¤μ™€ κµ¬ν„μ„ λ¶„λ¦¬ν• κ²ƒ

# 5. νμ› λ„λ©”μΈ μ‹¤ν–‰κ³Ό ν…μ¤νΈ

### π“Β μ •λ¦¬

β… λ¬΄μ—‡μ„ κµ¬ν„ν–λ”κ°€?

- `MemberApp`μΌλ΅ νμ› κ°€μ… νλ¦„ ν…μ¤νΈ
- `MemberServiceTest`λ΅ JUnit λ‹¨μ„ ν…μ¤νΈ μ‘μ„±

β…Β λ¬Έμ μ 

- ν„μ¬ `MemberServiceImpl`μ΄ `MemoryMemberRepository`μ— μ§μ ‘ μμ΅΄ β†’ OCP, DIP μ›μΉ™ μ„λ°
- ν΄λΌμ΄μ–ΈνΈ μ½”λ“κ°€ μ €μ¥μ† κµ¬ν„μ²΄μ— μμ΅΄ν•κ² λλ―€λ΅ λ³€κ²½μ— μ•½ν• κµ¬μ΅°μ„

# 6. μ£Όλ¬Έκ³Ό ν• μΈ λ„λ©”μΈ μ„¤κ³„

![image.png](./img/image2.png)

# 7. μ£Όλ¬Έκ³Ό ν• μΈ λ„λ©”μΈ κ°λ°

### π“Β μ •λ¦¬

β… λ¬΄μ—‡μ„ κµ¬ν„ν–λ”κ°€?

- μ£Όλ¬Έ μƒμ„± κΈ°λ¥μ νλ¦„κ³Ό μ—­ν•  μ •λ¦¬ (νμ› μ΅°ν β†’ ν• μΈ β†’ μ£Όλ¬Έ μƒμ„±)
- `DiscountPolicy` μΈν„°νμ΄μ¤ λ„μ…, μ •μ•΅ ν• μΈ μ •μ±…(`FixDiscountPolicy`) κµ¬ν„ μ„¤κ³„

β… μ™ μ΄λ ‡κ² μ„¤κ³„ν–λ”κ°€?

- μ£Όλ¬Έ μ„λΉ„μ¤λ” ν• μΈ μ •μ±…μ— μ§μ ‘ μμ΅΄ν•μ§€ μ•κ³  μ¶”μƒν™”λ μ—­ν• λ§ μμ΅΄
- `OrderServiceImpl`μ—μ„ `MemberRepository`μ™€ `DiscountPolicy`λ¥Ό ν†µν•΄ μ£Όλ¬Έ μƒμ„±
- μ •μ±…μ΄ λ°”λ€μ–΄λ„ μ£Όλ¬Έ μ„λΉ„μ¤ λ³€κ²½ μ—†μ΄ μƒλ΅μ΄ ν• μΈ μ •μ±…λ§ κµ¬ν„ν•λ©΄ λλ„λ΅ μ„¤κ³„

# 8. μ£Όλ¬Έκ³Ό ν• μΈ λ„λ©”μΈ μ‹¤ν–‰κ³Ό ν…μ¤νΈ

### π“Β μ •λ¦¬

β… λ¬΄μ—‡μ„ κµ¬ν„ν–λ”κ°€?

- `OrderApp`μ—μ„ μ£Όλ¬Έ νλ¦„ μ‹¤ν–‰
- `OrderServiceTest`μ—μ„ VIP κ³ κ°μ— λ€ν• ν• μΈ μ μ© ν…μ¤νΈ